<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>{% block title %}{% endblock %} | The Backstage</title>

    {# default stylesheets #}
    {% block stylesheets %}
      {# css from libraries #}
      <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
      <link href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css" rel="stylesheet">
      <link href="//cdnjs.cloudflare.com/ajax/libs/chosen/1.4.2/chosen.min.css" rel="stylesheet">

      {# optional bootswatch theme #}
      <!--
      <link href="//maxcdn.bootstrapcdn.com/bootswatch/3.3.4/yeti/bootstrap.min.css" rel="stylesheet">
      <link href="//maxcdn.bootstrapcdn.com/bootswatch/3.3.4/readable/bootstrap.min.css" rel="stylesheet">
      -->

      {# global css #}
      {# <link rel="stylesheet" type="text/css" href="{{ asset('stylesheets/dist/global.css') }}"> #}
    {% endblock %}

    <link rel="icon" type="image/x-icon" href="{{ asset('favicon.ico') }}">
  </head>
  <body>

    {# body block, should not be overridden #}
    {% block body %}

      {% block main_menu %}
        {# include the header template partial #}
        {% include 'BkstgCoreBundle:Menu:main_menu.html.twig' %}
      {% endblock %}

      {% block content_wrapper %}
        <div class="content-wrapper container-fluid">

          <div class="content">
            <div class="left-col col-md-8">
              {# display flash messages #}
              {% for type in ['success', 'info', 'warning', 'danger'] %}
                {% for flashMessage in app.session.flashbag.get(type) %}
                  {% if type == 'success' %}
                    {% set glyphicon = 'ok-sign' %}
                  {% elseif type == 'info' %}
                    {% set glyphicon = 'info-sign' %}
                  {% elseif type == 'warning' %}
                    {% set glyphicon = 'question-sign' %}
                  {% elseif type == 'danger' %}
                    {% set glyphicon = 'remove-sign' %}
                  {% endif %}
                  <div class="alert alert-{{ type }}" role="alert">
                    <span class="glyphicon glyphicon-{{ glyphicon }}" aria-hidden="true"></span> {{ flashMessage }}
                  </div>
                {% endfor %}
              {% endfor %}

              {# content block #}
              {% block content %}{% endblock %}
            </div>
            <aside class="right-col col-md-4">
              {% block sidebar %}
                {% if message_manager is defined %}
                  <div class="list-group">
                    <div class="list-group-item">
                      <h4><span class="glyphicon glyphicon-signal" aria-hidden="true"></span> Recent Activity</h4>
                    </div>
                    {% for message in message_manager.messages %}
                      <a href="{{ message_manager.getlink(message) }}" class="list-group-item">
                        {% if message.glyph %}
                          <span class="glyphicon glyphicon-{{ message.glyph }}" aria-hidden="true"></span>&nbsp;
                        {% endif %}
                        {% if ( message.new is defined ) and ( message.new == true )  %}
                          <span class="badge">new</span>
                        {% endif %}
                        {{ message.body }}<br />
                        <small>on {{ message.created|date('F j, Y') }}</small>
                      </a>
                    {% else %}
                      <a class="list-group-item">
                        No recent activity yet!
                      </a>
                    {% endfor %}
                  </div>
                {% endif %}
              {% endblock %}
            </aside>
          </div>
        </div>
      {% endblock %}

      {% block footer %}
        <footer class="container-fluid text-center well">
            <div class="copy-wrapper">Copyright <span class="glyphicon glyphicon-copyright-mark" aria-hidden="true"></span> {{ "now"|date("Y") }} The Backstage</div>
        </footer>
      {% endblock %}
    {% endblock %}

    {# default javascripts #}
    {% block javascripts %}
      {# javascript libraries #}
      <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
      <script src="//code.jquery.com/ui/1.11.4/jquery-ui.min.js"></script>
      <script src="//cdnjs.cloudflare.com/ajax/libs/chosen/1.4.2/chosen.jquery.min.js"></script>
      <script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>
      <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-once/2.0.2/jquery.once.min.js"></script>
      <script src="//cdnjs.cloudflare.com/ajax/libs/autosize.js/1.18.18/jquery.autosize.min.js"></script>
      <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.3/moment.min.js"></script>
    {% endblock %}
  </body>
</html>
