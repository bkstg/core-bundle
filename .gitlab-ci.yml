stages:
    - test

# Test coding standards.
coding standards:
    image: registry.gitlab.com/forestcitylabs/ops/phpcs:latest
    stage: test
    script:
        - phpcs --standard=phpcs.xml.dist .

# Run unit tests.
unit tests:
    image: registry.gitlab.com/forestcitylabs/ops/phpunit:latest
    stage: test
    script:
        - composer install --no-progress --no-interaction
        - phpunit --colors=never --coverage-text
